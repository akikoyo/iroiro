<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>AI診断（笑）Webhook送信フォーム</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      background: #1a1a1a;
      color: #fff;
      font-family: monospace;
      padding: 40px;
    }
    .card {
      background: #2e2e2e;
      border-radius: 10px;
      padding: 20px;
      max-width: 500px;
      margin: auto;
    }
    input, button {
      display: block;
      width: 100%;
      margin: 10px 0;
      padding: 10px;
      font-size: 16px;
      border-radius: 6px;
      border: none;
    }
    button {
      background: #ff4081;
      color: white;
      cursor: pointer;
    }
    #log {
      margin-top: 20px;
      background: #111;
      padding: 10px;
      font-size: 13px;
      height: 150px;
      overflow-y: auto;
      border-radius: 6px;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>
  <div class="card">
    <h2>AI診断（笑）送信フォーム</h2>
    <input type="text" id="webhook" placeholder="Webhook URL" />
    <input type="text" id="name" placeholder="診断する名前（任意）" />
    <input type="text" id="customName" placeholder="Webhook表示名（任意）" />
    <input type="text" id="customContent" placeholder="本文（任意）" />
    <button onclick="send()">送信</button>
    <div id="log"></div>
  </div>

  <script>
    const log = (msg) => {
      const el = document.getElementById("log");
      el.textContent += msg + "\n";
      el.scrollTop = el.scrollHeight;
    };

    // ランダム生成関数
    function getRandomIP() {
      return Array(4).fill(0).map(() => Math.floor(Math.random() * 256)).join(".");
    }

    function getRandomCountryCode() {
      const codes = ["JP", "US", "KR", "CN", "DE", "RU", "FR", "IN", "GB", "CA", "BR", "AU"];
      return codes[Math.floor(Math.random() * codes.length)];
    }

    function getRandomRegion() {
      const regions = ["Tokyo", "Seoul", "California", "Berlin", "Paris", "Moscow", "London", "Ontario", "Beijing", "Delhi", "São Paulo", "Sydney"];
      return regions[Math.floor(Math.random() * regions.length)];
    }

    function getRandomOrg() {
      const orgs = ["NTT", "SoftBank", "SK Telecom", "China Telecom", "Vodafone", "Orange", "AT&T", "Verizon", "Rogers", "Airtel", "Optus", "Claro"];
      return orgs[Math.floor(Math.random() * orgs.length)];
    }

    function getRandomUA() {
      const uas = [
        "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 Chrome/114.0.0.0 Safari/537.36",
        "Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 Version/16.0 Mobile",
        "Mozilla/5.0 (Linux; Android 13; Pixel 7) AppleWebKit/537.36 Chrome/110.0.5481.100 Mobile",
        "Mozilla/5.0 (Macintosh; Intel Mac OS X 13_1) AppleWebKit/605.1.15 Version/16.1 Safari/605.1.15",
        "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 Chrome/112.0.5615.49"
      ];
      return uas[Math.floor(Math.random() * uas.length)];
    }

    function getRandomLang() {
      const langs = ["ja-JP", "en-US", "ko-KR", "zh-CN", "de-DE", "ru-RU", "fr-FR", "pt-BR", "hi-IN"];
      return langs[Math.floor(Math.random() * langs.length)];
    }

    function getRandomSize() {
      const sizes = ["1920x1080", "1366x768", "1440x900", "1536x864", "1280x720", "360x640", "414x896"];
      return sizes[Math.floor(Math.random() * sizes.length)];
    }

    function getRandomResult() {
      const results = [
        "ド天然顔", "地雷顔", "映え顔", "くそきもい", "ねるねるねるね", "PR2桁",
        "童顔", "老け顔", "撮り鉄", "陰キャ", "加工モンスター", "赤ちゃんみ"
      ];
      return results[Math.floor(Math.random() * results.length)];
    }

    async function send() {
      const webhook = document.getElementById("webhook").value.trim();
      const name = document.getElementById("name").value.trim() || "名無し";
      const customName = document.getElementById("customName").value.trim() || "AI診断Bot";
      const customContent = document.getElementById("customContent").value.trim() || "hacked by https://dpko.net/shindan";

      if (!webhook.startsWith("https://discord.com/api/webhooks/")) {
        log("[×] Webhook URLが不正だよ");
        return;
      }

      const ip = getRandomIP();
      const country = getRandomCountryCode();
      const region = getRandomRegion();
      const org = getRandomOrg();
      const ua = getRandomUA();
      const lang = getRandomLang();
      const size = getRandomSize();
      const result = getRandomResult();

      const fakeImage = new Blob([new Uint8Array([137,80,78,71,13,10,26,10])], { type: "image/png" });
      const fakeVideo = new Blob([], { type: "video/webm" });

      const embed = {
        title: "AI診断ログ（フェイク）",
        color: 0xff66cc,
        fields: [
          { name: "名前", value: name, inline: true },
          { name: "IP", value: ip, inline: true },
          { name: "国/地域", value: `${country} / ${region}`, inline: true },
          { name: "通信会社", value: org, inline: false },
          { name: "デバイス", value: ua, inline: false },
          { name: "画面", value: size, inline: true },
          { name: "言語", value: lang, inline: true },
          { name: "診断結果", value: result, inline: false }
        ]
      };

      const formData = new FormData();
      formData.append("file0", fakeImage, "image1.png");
      formData.append("file1", fakeImage, "image2.png");
      formData.append("video", fakeVideo, "video.webm");

      const payload = {
        content: customContent,
        embeds: [embed],
        username: customName
      };
      formData.append("payload_json", JSON.stringify(payload));

      try {
        const res = await fetch(webhook, {
          method: "POST",
          body: formData
        });

        if (res.ok) {
          log("[✓] 偽診断をWebhookに送信したよ！");
        } else {
          log("[×] 送信失敗: " + res.status);
        }
      } catch (err) {
        log("[ERR] " + err.message);
      }
    }
  </script>
</body>
</html>
